(this["webpackJsonpgame-of-life"]=this["webpackJsonpgame-of-life"]||[]).push([[0],{39:function(e,t,n){"use strict";n.r(t);n(25),n(26);var c=n(15),i=n(5),a=n(1),r=function(e){var t=e.active,n=e.completed,c=e.children;return!0===n?Object(a.jsx)("span",{children:c}):!0===t?Object(a.jsx)("strong",{children:c}):Object(a.jsx)("span",{className:"text-muted",children:c})},o=function(e){var t=e.active,n=e.completed,c=e.children,i=n?"h5 text-secondary bi-check":void 0;return Object(a.jsxs)("li",{className:"mb-1",children:[Object(a.jsx)(r,{active:t,completed:n,children:c}),Object(a.jsx)("i",{className:i})]})};function s(e){return e.some((function(e){return e.some((function(e){return 1===e}))}))}var l=function(e){var t=e.store,n=0===t.grid.length,c=0!==t.grid.length,i=s(t.grid),r=i&&0!==t.tick;return Object(a.jsxs)("ul",{className:"mt-3 mt-md-5 mb-3",children:[Object(a.jsx)(o,{active:n,completed:c,children:"Select the grid size"}),Object(a.jsx)(o,{active:c,completed:i,children:"Draw on the grid"}),Object(a.jsx)(o,{active:i,completed:r,children:"Start the simulation"})]})},u=n(2),b=n(0),j=n.n(b),d="UPDATE_GRID_SIZE",h="NEXT_TICK",m="CLEAR_GRID",O="RESET_GAME",f="LOAD_PRESET",x="DRAW_CELL";var v=n(3),g=function(e){var t=e.empty,n=e.running,c=e.onToggle,i=Object(v.b)();return!0===n?Object(a.jsx)("button",{type:"button",className:"btn btn-secondary",disabled:t,onClick:c,children:"Stop simulation"}):Object(a.jsxs)(b.Fragment,{children:[Object(a.jsx)("button",{type:"button",className:"btn btn-secondary",disabled:t,onClick:c,children:"Start game"}),Object(a.jsx)("button",{type:"button",className:"btn btn-secondary-outline ms-3",onClick:function(){!function(e){e({type:m})}(i)},children:"Clear"}),Object(a.jsx)("button",{type:"button",className:"btn btn-secondary-outline ms-3",onClick:function(){!function(e){e({type:O})}(i)},children:"Reset"})]})},p=function(e){var t=e.page,n=e.active,c=e.onChange,i=t===n?"page-item active":"page-item";return Object(a.jsx)("li",{className:i,children:Object(a.jsx)("button",{type:"button",className:"page-link","data-page":t,onClick:function(){c(t)},children:t+1})})},y=function(e){var t=e.page,n=e.total,c=e.onChange,i=Object(b.useMemo)((function(){return new Array(n).fill(0).map((function(e,t){return t}))}),[n]);return Object(a.jsx)("nav",{className:"text-center mt-3",children:Object(a.jsx)("ul",{className:"pagination justify-content-center mb-0",children:i.map((function(e){return Object(a.jsx)(p,{page:e,active:t,onChange:c},e)}))})})},k={backgroundColor:"rgba(0,0,0,.2)",display:"initial"},C=function(e){var t=e.open,n=e.title,c=e.confirm,i=e.children,r=e.onConfirm,o=e.onClose;return!1===t?null:Object(a.jsx)("div",{className:"modal show",style:k,tabIndex:-1,"aria-modal":"true",role:"dialog",children:Object(a.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-dialog-scrollable",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",children:n}),Object(a.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:o})]}),Object(a.jsx)("div",{className:"modal-body",children:i}),Object(a.jsxs)("div",{className:"modal-footer",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-secondary-outline",onClick:o,children:"Close"}),Object(a.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:r,children:c})]})]})})})},N=function(e){var t=1===e.content?"bi-circle-fill":"bi-circle";return Object(a.jsx)("td",{children:Object(a.jsx)("i",{className:t})})},w=function(e){var t=e.content;return Object(a.jsx)("tr",{children:t.map((function(e,t){return Object(a.jsx)(N,{content:e},t)}))})},E=function(e){var t=e.content;return Object(a.jsx)("table",{className:"mx-auto",children:Object(a.jsx)("tbody",{children:t.map((function(e,t){return Object(a.jsx)(w,{content:e},t)}))})})},S=[[[0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,1,1,0,0],[0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,1,0,0,0,0,0,0],[0,0,1,0,0,0,0,0],[1,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0]]],M=function(){var e=Object(b.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],i=Object(b.useState)(0),r=Object(u.a)(i,2),o=r[0],s=r[1],l=S.length,j=S[o],d=Object(v.b)();return Object(a.jsxs)(b.Fragment,{children:[Object(a.jsx)("button",{className:"btn btn-link",onClick:function(){return c(!0)},children:"Import preset"}),Object(a.jsxs)(C,{open:n,title:"Import a preset",confirm:"import",onClose:function(){return c(!1)},onConfirm:function(){!function(e,t){e({type:f,preset:t})}(d,j),c(!1)},children:[Object(a.jsx)(E,{content:j}),Object(a.jsx)(y,{page:o,total:l,onChange:s})]})]})},T=n(10);function I(e,t,n){var c,i,a=n-1;"touches"in e?(c=e.touches[0].pageX,i=e.touches[0].pageY):(c=e.clientX,i=e.clientY);var r=Math.floor((c-t.left)*n/t.width),o=Math.floor((i-t.top)*n/t.height),s=Math.min(r,a),l=Math.min(o,a);return[Math.max(s,0),Math.max(l,0)]}var R={drawing:!1,left:0,top:0,width:0,height:0,lastX:0,lastY:0},A=function(e){var t=e.className,n=e.size,c=e.children,i=e.onChange,r=Object(b.useState)(R),o=Object(u.a)(r,2),s=o[0],l=o[1],j=Object(b.useCallback)((function(e){var t=I(e,s,n),c=Object(u.a)(t,2),a=c[0],r=c[1];a===s.lastX&&r===s.lastY||i(a,r),l(Object(T.a)(Object(T.a)({},s),{},{lastX:a,lastY:r}))}),[s,n,i]),d=Object(b.useCallback)((function(e){var t=e.currentTarget.getBoundingClientRect(),c=0,a=0;if(!("touches"in e&&e.touches.length>1)){if("mousedown"===e.type){var r=I(e,t,n),o=Object(u.a)(r,2);c=o[0],a=o[1],i(c,a)}l({height:t.height,width:t.width,left:t.left,top:t.top,drawing:!0,lastX:c,lastY:a})}}),[n,i]),h=Object(b.useCallback)((function(){l(R)}),[]);Object(b.useEffect)((function(){return document.addEventListener("mouseup",h),function(){document.removeEventListener("mouseup",h)}}),[h]);var m=s.drawing?j:void 0;return Object(a.jsx)("div",{className:t,onMouseDown:d,onMouseMove:m,onTouchStart:d,onTouchMove:j,onTouchEnd:h,children:c})},D=function(e){var t=e.running,n=e.grid,c=Object(v.b)(),i=n.length;return!1===t?Object(a.jsx)(A,{className:"d-inline-block mx-auto",size:i,onChange:function(e,t){!function(e,t,n){e({type:x,x:t,y:n})}(c,e,t)},children:Object(a.jsx)(E,{content:n})}):Object(a.jsx)("div",{className:"d-inline-block mx-auto",children:Object(a.jsx)(E,{content:n})})};function L(e,t){var n=Object(b.useState)(!1),c=Object(u.a)(n,2),i=c[0],a=c[1],r=function(e){var t=Object(b.useRef)();return Object(b.useEffect)((function(){t.current=e})),t.current}(e),o=Object(v.b)(),l=Object(b.useCallback)((function(){!function(e){e({type:h})}(o)}),[o]);return Object(b.useEffect)((function(){var n,c=!(!r||!t)&&function(e,t){return t.every((function(t,n){return t.every((function(t,c){return t===e[n][c]}))}))}(r,e);if(!1!==s(e)&&!0!==c)return i?(n=setInterval(l,250),function(){clearInterval(n)}):void 0;a(!1)}),[r,e,t,i,l]),!0===i?[!0,function(){return a(!1)}]:[!1,function(){return a(!0)}]}var X=function(e){var t=e.store,n=t.grid,c=t.tick,i=!1===s(n),r=L(n,c),o=Object(u.a)(r,2),l=o[0],j=o[1];return Object(a.jsxs)(b.Fragment,{children:[Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsxs)("p",{children:["Tick nr. ",t.tick]}),Object(a.jsx)(D,{running:l,grid:n})]}),Object(a.jsx)(M,{}),Object(a.jsx)("hr",{}),Object(a.jsx)(g,{empty:i,running:l,onToggle:j})]})},_=n(22),Y=[{label:"8 \xd7 8",value:8},{label:"12 \xd7 12",value:12},{label:"16 \xd7 16",value:16}],z=function(){var e=Object(b.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],i=void 0===n,r=Object(v.b)();return Object(a.jsxs)(b.Fragment,{children:[Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)(_.a,{value:n,options:Y,onChange:c})}),Object(a.jsx)(M,{}),Object(a.jsx)("hr",{}),Object(a.jsx)("button",{type:"button",className:"btn btn-secondary",disabled:i,onClick:function(){n&&function(e,t){e({type:d,size:t})}(r,n.value)},children:"Create grid"})]})};function F(e,t){for(var n=[],c=0;c<t;c++){var i=new Array(t).fill(0);n.push(i)}e.grid=n}var G=Object(i.a)((function(e,t){switch(t.type){case d:F(e,t.size);break;case m:F(e,e.grid.length);break;case h:!function(e){e.grid=function(e){var t=e.length-1;return e.map((function(n,c){return n.map((function(n,i){var a=[c>0?e[c-1][i-1]:void 0,c>0?e[c-1][i]:void 0,c>0?e[c-1][i+1]:void 0,e[c][i-1],e[c][i+1],c<t?e[c+1][i-1]:void 0,c<t?e[c+1][i]:void 0,c<t?e[c+1][i+1]:void 0].reduce((function(e,t){return 1===t?e+1:e}),0);return 1===n?2===a||3===a?1:0:3===a?1:0}))}))}(e.grid),e.tick+=1}(e);break;case O:!function(e){e.grid=[],e.tick=0}(e);break;case f:!function(e,t){e.grid=t.preset,e.tick=0}(e,t);break;case x:!function(e,t){var n=t.x,c=t.y,i=e.grid[c][n];e.grid[c][n]=0===i?1:0,e.tick=0}(e,t)}})),B={maxWidth:"550px"},J=Object(v.a)((function(e){var t=e.store,n=0===t.grid.length?z:X;return Object(a.jsx)("div",{className:"container shadow-2 mx-auto p-3 mt-3",style:B,children:Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:"text-center",children:"Conway's Game of Life"}),Object(a.jsx)(l,{store:t}),Object(a.jsx)(n,{store:t})]})})}),G),P=n(21),W=n.n(P),K=document.getElementById("root"),U=new function e(){Object(c.a)(this,e),this[i.b]=!0,this.grid=[],this.tick=0},Z=Object(a.jsx)(j.a.StrictMode,{children:Object(a.jsx)(J,{initialState:U})});W.a.render(Z,K)}},[[39,1,2]]]);
//# sourceMappingURL=main.cb282599.chunk.js.map