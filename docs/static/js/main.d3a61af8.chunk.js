(this["webpackJsonpgame-of-life"]=this["webpackJsonpgame-of-life"]||[]).push([[0],{39:function(e,t,n){"use strict";n.r(t);n(25),n(26);var c=n(15),i=n(5),r=n(1),a=function(e){var t=e.active,n=e.completed,c=e.children;return!0===n?Object(r.jsx)("span",{children:c}):!0===t?Object(r.jsx)("strong",{children:c}):Object(r.jsx)("span",{className:"text-muted",children:c})},o=function(e){var t=e.active,n=e.completed,c=e.children,i=n?"h5 text-secondary bi-check":void 0;return Object(r.jsxs)("li",{className:"mb-1",children:[Object(r.jsx)(a,{active:t,completed:n,children:c}),Object(r.jsx)("i",{className:i})]})};function s(e){return e.some((function(e){return e.some((function(e){return 1===e}))}))}var l=function(e){var t=e.store,n=0===t.grid.length,c=0!==t.grid.length,i=s(t.grid),a=i&&0!==t.tick;return Object(r.jsxs)("ul",{className:"mt-3 mt-md-5 mb-3",children:[Object(r.jsx)(o,{active:n,completed:c,children:"Select the grid size"}),Object(r.jsx)(o,{active:c,completed:i,children:"Draw on the grid"}),Object(r.jsx)(o,{active:i,completed:a,children:"Start the simulation"})]})},u=n(3),b=n(0),j=n.n(b),d=function(e){var t=e.page,n=e.active,c=e.onChange,i=t===n?"page-item active":"page-item";return Object(r.jsx)("li",{className:i,children:Object(r.jsx)("button",{type:"button",className:"page-link","data-page":t,onClick:function(){c(t)},children:t+1})})},h=function(e){var t=e.page,n=e.total,c=e.onChange,i=Object(b.useMemo)((function(){return new Array(n).fill(0).map((function(e,t){return t}))}),[n]);return Object(r.jsx)("nav",{className:"text-center mt-3",children:Object(r.jsx)("ul",{className:"pagination justify-content-center mb-0",children:i.map((function(e){return Object(r.jsx)(d,{page:e,active:t,onChange:c},e)}))})})},m={backgroundColor:"rgba(0,0,0,.2)",display:"initial"},O=function(e){var t=e.open,n=e.title,c=e.confirm,i=e.children,a=e.onConfirm,o=e.onClose;return!1===t?null:Object(r.jsx)("div",{className:"modal show",style:m,tabIndex:-1,"aria-modal":"true",role:"dialog",children:Object(r.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-dialog-scrollable",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsxs)("div",{className:"modal-header",children:[Object(r.jsx)("h5",{className:"modal-title",children:n}),Object(r.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:o})]}),Object(r.jsx)("div",{className:"modal-body",children:i}),Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)("button",{type:"button",className:"btn btn-secondary-outline",onClick:o,children:"Close"}),Object(r.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:a,children:c})]})]})})})},f=function(e){var t=1===e.content?"bi bi-circle-fill":"bi bi-circle";return Object(r.jsx)("td",{children:Object(r.jsx)("i",{className:t})})},x=function(e){var t=e.content;return Object(r.jsx)("tr",{children:t.map((function(e,t){return Object(r.jsx)(f,{content:e},t)}))})},v=function(e){var t=e.content;return Object(r.jsx)("table",{className:"mx-auto",children:Object(r.jsx)("tbody",{children:t.map((function(e,t){return Object(r.jsx)(x,{content:e},t)}))})})},g="UPDATE_GRID_SIZE",p="NEXT_TICK",y="CLEAR_GRID",k="RESET_GAME",N="LOAD_PRESET",C="DRAW_CELL";function w(e){e({type:p})}var E=[[[0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,1,1,0,0],[0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,1,0,0,0,0,0,0],[0,0,1,0,0,0,0,0],[1,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0]]],S=n(2),M=function(){var e=Object(b.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],i=Object(b.useState)(0),a=Object(u.a)(i,2),o=a[0],s=a[1],l=E.length,j=E[o],d=Object(S.b)();return Object(r.jsxs)(b.Fragment,{children:[Object(r.jsx)("button",{className:"btn btn-link d-block",onClick:function(){return c(!0)},children:"Import preset"}),Object(r.jsxs)(O,{open:n,title:"Import a preset",confirm:"import",onClose:function(){return c(!1)},onConfirm:function(){!function(e,t){e({type:N,preset:t})}(d,j),c(!1)},children:[Object(r.jsx)(v,{content:j}),Object(r.jsx)(h,{page:o,total:l,onChange:s})]})]})},T=n(10);function I(e,t,n){var c,i,r=n-1;"touches"in e?(c=e.touches[0].pageX,i=e.touches[0].pageY):(c=e.clientX,i=e.clientY);var a=Math.floor((c-t.left)*n/t.width),o=Math.floor((i-t.top)*n/t.height),s=Math.min(a,r),l=Math.min(o,r);return[Math.max(s,0),Math.max(l,0)]}var R={drawing:!1,left:0,top:0,width:0,height:0,lastX:0,lastY:0},A=function(e){var t=e.className,n=e.size,c=e.children,i=e.onChange,a=Object(b.useState)(R),o=Object(u.a)(a,2),s=o[0],l=o[1],j=Object(b.useCallback)((function(e){var t=I(e,s,n),c=Object(u.a)(t,2),r=c[0],a=c[1];r===s.lastX&&a===s.lastY||i(r,a),l(Object(T.a)(Object(T.a)({},s),{},{lastX:r,lastY:a}))}),[s,n,i]),d=Object(b.useCallback)((function(e){if(!("touches"in e&&e.touches.length>1)){var t=e.currentTarget.getBoundingClientRect(),c=0,r=0;if("mousedown"===e.type){var a=I(e,t,n),o=Object(u.a)(a,2);c=o[0],r=o[1],i(c,r)}l({height:t.height,width:t.width,left:t.left,top:t.top,drawing:!0,lastX:c,lastY:r})}}),[n,i]),h=Object(b.useCallback)((function(){l(R)}),[]);Object(b.useEffect)((function(){return document.addEventListener("mouseup",h),function(){document.removeEventListener("mouseup",h)}}),[h]);var m=s.drawing?j:void 0;return Object(r.jsx)("div",{className:t,onMouseDown:d,onMouseMove:m,onTouchStart:d,onTouchMove:j,onTouchEnd:h,children:c})},D=function(e){var t=e.running,n=e.grid,c=Object(S.b)(),i=n.length;return!1===t?Object(r.jsx)(A,{className:"d-inline-block mx-auto",size:i,onChange:function(e,t){!function(e,t,n){e({type:C,x:t,y:n})}(c,e,t)},children:Object(r.jsx)(v,{content:n})}):Object(r.jsx)("div",{className:"d-inline-block mx-auto",children:Object(r.jsx)(v,{content:n})})},L=function(e){var t=e.empty,n=e.running,c=e.onToggle,i=Object(S.b)();return!0===n?Object(r.jsx)("button",{type:"button",className:"btn btn-secondary",disabled:t,onClick:c,children:"Stop game"}):Object(r.jsxs)(b.Fragment,{children:[Object(r.jsx)("button",{type:"button",className:"btn btn-secondary",disabled:t,onClick:c,children:"Start game"}),Object(r.jsxs)("button",{type:"button",className:"btn btn-secondary-outline ms-3",onClick:function(){w(i)},children:[Object(r.jsx)("span",{className:"d-none d-md-inline",children:"Next"}),Object(r.jsx)("i",{className:"bi bi-chevron-double-right m-1"})]}),Object(r.jsx)("button",{type:"button",className:"btn btn-secondary-outline ms-3",onClick:function(){!function(e){e({type:k})}(i)},children:"Reset"})]})},X=function(){var e=Object(S.b)();return Object(r.jsx)("button",{type:"button",className:"btn btn-link d-block",onClick:function(){!function(e){e({type:y})}(e)},children:"Clear grid"})};function _(e,t){var n=Object(b.useState)(!1),c=Object(u.a)(n,2),i=c[0],r=c[1],a=function(e){var t=Object(b.useRef)();return Object(b.useEffect)((function(){t.current=e})),t.current}(e),o=Object(S.b)();return Object(b.useEffect)((function(){var n,c=!(!a||!t)&&function(e,t){return t.every((function(t,n){return t.every((function(t,c){return t===e[n][c]}))}))}(a,e);if(!1!==s(e)&&!0!==c)return i?(n=setInterval((function(){return w(o)}),250),function(){clearInterval(n)}):void 0;r(!1)}),[a,e,t,i,o]),!0===i?[!0,function(){return r(!1)}]:[!1,function(){return r(!0)}]}var Y=function(e){var t=e.store,n=t.grid,c=t.tick,i=!1===s(n),a=_(n,c),o=Object(u.a)(a,2),l=o[0],j=o[1];return Object(r.jsxs)(b.Fragment,{children:[Object(r.jsxs)("div",{className:"text-center",children:[Object(r.jsxs)("p",{children:["Tick nr. ",t.tick]}),Object(r.jsx)(D,{running:l,grid:n})]}),Object(r.jsx)(M,{}),Object(r.jsx)(X,{}),Object(r.jsx)("hr",{}),Object(r.jsx)(L,{empty:i,running:l,onToggle:j})]})},z=n(22),F=[{label:"8 \xd7 8",value:8},{label:"12 \xd7 12",value:12},{label:"16 \xd7 16",value:16}],G=function(){var e=Object(b.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],i=void 0===n,a=Object(S.b)();return Object(r.jsxs)(b.Fragment,{children:[Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(z.a,{value:n,options:F,onChange:c})}),Object(r.jsx)(M,{}),Object(r.jsx)("hr",{}),Object(r.jsx)("button",{type:"button",className:"btn btn-secondary",disabled:i,onClick:function(){n&&function(e,t){e({type:g,size:t})}(a,n.value)},children:"Create grid"})]})};function B(e,t){for(var n=[],c=0;c<t;c++){var i=new Array(t).fill(0);n.push(i)}e.grid=n}var J=Object(i.a)((function(e,t){switch(t.type){case g:B(e,t.size);break;case y:B(e,e.grid.length);break;case p:!function(e){e.grid=function(e){var t=e.length-1;return e.map((function(n,c){return n.map((function(n,i){var r=[c>0?e[c-1][i-1]:void 0,c>0?e[c-1][i]:void 0,c>0?e[c-1][i+1]:void 0,e[c][i-1],e[c][i+1],c<t?e[c+1][i-1]:void 0,c<t?e[c+1][i]:void 0,c<t?e[c+1][i+1]:void 0].reduce((function(e,t){return 1===t?e+1:e}),0);return 1===n?2===r||3===r?1:0:3===r?1:0}))}))}(e.grid),e.tick+=1}(e);break;case k:!function(e){e.grid=[],e.tick=0}(e);break;case N:!function(e,t){e.grid=t.preset,e.tick=0}(e,t);break;case C:!function(e,t){var n=t.x,c=t.y,i=e.grid[c][n];e.grid[c][n]=0===i?1:0,e.tick=0}(e,t)}})),P={maxWidth:"550px"},W=Object(S.a)((function(e){var t=e.store,n=0===t.grid.length?G:Y;return Object(r.jsx)("div",{className:"container shadow-2 mx-auto p-3 mt-3",style:P,children:Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{className:"text-center",children:"Conway's Game of Life"}),Object(r.jsx)(l,{store:t}),Object(r.jsx)(n,{store:t})]})})}),J),K=n(21),U=n.n(K),Z=document.getElementById("root"),q=new function e(){Object(c.a)(this,e),this[i.b]=!0,this.grid=[],this.tick=0},H=Object(r.jsx)(j.a.StrictMode,{children:Object(r.jsx)(W,{initialState:q})});U.a.render(H,Z)}},[[39,1,2]]]);
//# sourceMappingURL=main.d3a61af8.chunk.js.map